{"map":{"version":3,"sources":["main.61b431f7aaa9803b630d.bundle.js"],"names":["window","push","195","module","exports","__webpack_require__","Object","defineProperty","value","noop","identity","val","22","__export","m","p","hasOwnProperty","23","chartSimple","offset","x","y","nodes","node1","id","type","position","ports","port1","properties","port2","node2","node3","node4","links","link1","from","nodeId","portId","to","label","link2","link3","selected","hovered","339","React","src_1","components_1","exampleChartState_1","ConfigSnapToGridDemo","createElement","Page","FlowChartWithState","initialValue","config","snapToGrid","340","CanvasContext","createContext","offsetX","offsetY","default","341","__makeTemplateObject","this","cooked","raw","templateObject_1","templateObject_2","styled_components_1","NodeDefault","div","props","isSelected","css","342","PortDefaultOuter","PortDefaultInner","active","PortDefault","_a","isLinkSelected","isLinkHovered","readonly","346","__1","LinkDefault","link","startPos","endPos","fromPort","toPort","onLinkMouseEnter","onLinkMouseLeave","onLinkClick","isHovered","matrix","points","smartRouting","generateSmartPath","generateRightAnglePath","generateCurvePath","style","overflow","cursor","left","right","r","cx","cy","fill","d","stroke","strokeWidth","strokeLinecap","strokeOpacity","onMouseEnter","linkId","onMouseLeave","onClick","e","stopPropagation","347","348","MATRIX_PADDING","NODE_PADDING","getMatrix","nodeDimensions","defaultNodeSize","width","height","dimensions","Math","max","forEach","node","size","getMatrixDimensions","adjustedWidth","ceil","adjustedHeight","i","Array","getEmptyMatrix","dimension","scaledSize","scaledX","scaledY","349","Content","350","GlobalStyle","createGlobalStyle","PageContent","children","351","Sidebar","352","Outer","SidebarItem","draggable","onDragStart","event","dataTransfer","setData","REACT_FLOW_CHART","JSON","stringify","353","Note","ConfigValidateLinkDemo","validateLink","fromNodeId","toNodeId","fromPortId","chart","toPortId","354","CanvasOuterCustom","CustomCanvasOuterDemo","Components","CanvasOuter","355","extendStatics","__extends","b","setPrototypeOf","__proto__","__","constructor","prototype","create","__assign","assign","t","s","n","arguments","length","call","apply","templateObject_3","lodash_1","actions","Label","Button","LabelContent","CustomLinkDemo","_super","_this","state","cloneDeep","render","stateActions","mapValues","func","args","_i","setState","FlowChart","callbacks","Link","centerX","centerY","Fragment","top","onDeleteKey","Component","356","__rest","indexOf","getOwnPropertySymbols","DarkBox","Circle","NodeCustom","forwardRef","ref","otherProps","CustomNodeDemo","Node","357","Input","input","NodeInnerCustom","placeholder","onChange","console","log","onMouseUp","onMouseDown","CustomNodeInnerDemo","NodeInner","358","PortCustom","port","viewBox","CustomPortDemo","Port","359","Message","DragAndDropSidebar","custom","port3","port4","port5","port6","port7","port8","port9","port10","port11","port12","360","ExternalReactState","361","InternalReactState","362","ReadonlyMode","363","SelectedSidebar","364","SmartRouting","365","StressTestWithState","useState","rows","setRows","_b","cols","setCols","useMemo","xyGrid","flatten","range","map","keyBy","compact","flatMap","idx","next","getChart","Controls","parseInt","target","key","StressTestDemo","372","512","740","__webpack_exports__","_storybook_addon_options__WEBPACK_IMPORTED_MODULE_4__","_storybook_react__WEBPACK_IMPORTED_MODULE_5__","hierarchySeparator","hierarchyRootSeparator","loadStories","requireAll","requireContext","keys","80","uuid_1","rotate_1","onDragNode","data","nodechart","round","onDragNodeStop","onDragCanvas","onDragCanvasStop","onLinkStart","onLinkMove","toPosition","onLinkComplete","join","onLinkCancel","onCanvasClick","onNodeMouseEnter","onNodeMouseLeave","node_1","onNodeClick","onNodeSizeChange","onPortPositionChange","nodeToUpdate","el","nodesEl","center","current","offsetLeft","offsetWidth","offsetTop","offsetHeight","angle","orientation","rotate","onCanvasDrop","v4","9","934","./ConfigSnapToGrid.tsx","./ConfigValidateLink.tsx","./CustomCanvasOuter.tsx","./CustomLink.tsx","./CustomNode.tsx","./CustomNodeInner.tsx","./CustomPort.tsx","./DragAndDropSidebar.tsx","./ExternalReactState.tsx","./InternalReactState.tsx","./ReadonlyMode.tsx","./SelectedSidebar.tsx","./SmartRouting.tsx","./StressTest.tsx","./components/Content.tsx","./components/Page.tsx","./components/Sidebar.tsx","./components/SidebarItem.tsx","./components/index.ts","./index.tsx","./misc/exampleChartState.ts","./utils/throttleRender.tsx","webpackContext","req","webpackContextResolve","o","Error","code","webpackContextKeys","resolve","935","936","937","CanvasInnerDefault","941","CanvasOuterDefault","942","pinchZoomPan_1","CanvasContext_1","CanvasWrapper","createRef","updateSize","rect","getBoundingClientRect","onSizeChange","componentDidMount","ResizeObserver","observe","addEventListener","componentDidUpdate","componentWillUnmount","removeEventListener","ComponentInner","ComponentOuter","Provider","initialTop","initialLeft","initialScale","minScale","maxScale","tabIndex","onKeyDown","keyCode","onDrop","parse","getData","clientX","clientY","onDragOver","preventDefault","943","snapToTarget","tolerance","abs","rangeBind","lowerBound","upperBound","min","invert","getRelativePosition","relativeToElement","getDistanceBetweenPoints","pointA","pointB","sqrt","pow","PinchZoomPan","handleTouchStart","bind","handleTouchMove","handleTouchEnd","handleMouseDown","handleMouseMove","handleMouseUp","handleMouseWheel","handleWindowResize","handleImageLoad","getDerivedStateFromProps","nextProps","prevState","animation","cancelAnimationFrame","touches","pinchStart","lastPanPointerPosition","pointerDown","pinchChange","pan","ensureValidTransform","pointerUp","timeStamp","mouseDown","point","container","deltaY","scale","zoomOut","zoomIn","ensureConstraints","clientPosition","pointerClientPosition","pointerPosition","translateX","translateY","move","lastPointerUpTimeStamp","transformToProps","speed","applyTransform","lastPinchLength","midpoint","getMidpoint","zoom","lastPinchMidpoint","getValidTransform","incrementalScalePercentage","requestedTop","requestedLeft","requestedScale","frame_1","translateScale","nextTransform","requestAnimationFrame","transform","lowerBoundFactor","upperBoundFactor","negativeSpace","calculateNegativeSpace","calculateAutofitScale","childElement","Children","only","originalRef","cloneElement","onTouchStart","onTouchEnd","onMouseMove","onWheel","onLoad","element","image","transformOrigin","passive","parentNode","applyConstraints","prevProps","lastUnzoomedNegativeSpace","forceUpdate","autofitScale","944","945","ReactDOM","react_draggable_1","react_resize_observer_1","utils_1","Node_default_1","NodeWrapper","Ports","selectedLink","hoveredLink","_c","setSize","isDragging","useRef","onStart","useCallback","onDrag","onStop","compRef","useLayoutEffect","findDOMNode","newSize","onResize","PortWrapper","bounds","axis","grid","disabled","948","949","NodeInnerDefault","950","951","Port_default_1","composedPath","path","parentElement","nodeRef","startEvent","mouseMoveHandler","context","mouseUpHandler","portEl","find","getAttribute","updatePortPosition","portsOfType","isEqual","data-port-id","data-node-id","values","reduce","count","contextType","954","955","PortsDefault","PortsGroupDefault","side","filter","child","includes","956","957","templateObject_4","templateObject_5","958","959","Link_default_1","utils_2","LinkWrapper","memo","fromNode","toNode","getLinkPosition","undefined","960","961","PF","grid_1","start","end","leftToRight","topToBottom","isHorizontal","curve","curveX","curveY","finder","JumpPointFinder","heuristic","Heuristic","manhattan","diagonalMovement","DiagonalMovement","Never","vertex","Grid","startPosScaled","endPosScaled","pos","setWalkableAt","setWalkableAtPorts","Util","compressPath","findPath","first","rest","slice","d_1","978","979","canvasSize","setCanvasSize","_d","_e","_f","CanvasInner","_g","_h","_j","_k","_l","_m","canvasCallbacks","linkCallbacks","nodeCallbacks","portCallbacks","nodesInView","linksInView","getSelectedLinkForNode","980","_actions","981","radians","PI","cos","sin","982","mapValues_1","983","res","984","985","react_1","ConfigSnapToGrid_1","ConfigValidateLink_1","CustomCanvasOuter_1","CustomLink_1","CustomNode_1","CustomNodeInner_1","CustomPort_1","DragAndDropSidebar_1","ExternalReactState_1","InternalReactState_1","ReadonlyMode_1","SelectedSidebar_1","SmartRouting_1","StressTest_1","storiesOf","add","986","throttleRender","wait","options","ComponentToThrottle","Throttle","throttledSetState","throttle","nextState","shouldComponentUpdate","componentWillMount","componentWillReceiveProps","cancel"],"mappings":"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"},"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{195:function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.noop=function(){return null},exports.identity=function(val){return val}},22:function(module,exports,__webpack_require__){\"use strict\";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,\"__esModule\",{value:!0}),__export(__webpack_require__(349)),__export(__webpack_require__(350)),__export(__webpack_require__(351)),__export(__webpack_require__(352))},23:function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.chartSimple={offset:{x:0,y:0},nodes:{node1:{id:\"node1\",type:\"output-only\",position:{x:300,y:100},ports:{port1:{id:\"port1\",type:\"output\",properties:{value:\"yes\"}},port2:{id:\"port2\",type:\"output\",properties:{value:\"no\"}}}},node2:{id:\"node2\",type:\"input-output\",position:{x:300,y:300},ports:{port1:{id:\"port1\",type:\"input\"},port2:{id:\"port2\",type:\"output\"}}},node3:{id:\"node3\",type:\"input-output\",position:{x:100,y:600},ports:{port1:{id:\"port1\",type:\"input\"},port2:{id:\"port2\",type:\"output\"}}},node4:{id:\"node4\",type:\"input-output\",position:{x:500,y:600},ports:{port1:{id:\"port1\",type:\"input\"},port2:{id:\"port2\",type:\"output\"}}}},links:{link1:{id:\"link1\",from:{nodeId:\"node1\",portId:\"port2\"},to:{nodeId:\"node2\",portId:\"port1\"},properties:{label:\"example link label\"}},link2:{id:\"link2\",from:{nodeId:\"node2\",portId:\"port2\"},to:{nodeId:\"node3\",portId:\"port1\"},properties:{label:\"another example link label\"}},link3:{id:\"link3\",from:{nodeId:\"node2\",portId:\"port2\"},to:{nodeId:\"node4\",portId:\"port1\"}}},selected:{},hovered:{}}},339:function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var React=__webpack_require__(0),src_1=__webpack_require__(9),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23);exports.ConfigSnapToGridDemo=function(){return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChartWithState,{initialValue:exampleChartState_1.chartSimple,config:{snapToGrid:!0}}))}},340:function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var CanvasContext=__webpack_require__(0).createContext({offsetX:0,offsetY:0});exports.default=CanvasContext},341:function(module,exports,__webpack_require__){\"use strict\";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,\"raw\",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,\"__esModule\",{value:!0});var templateObject_1,templateObject_2,styled_components_1=__webpack_require__(15);exports.NodeDefault=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject([\"\\n  position: absolute;\\n  transition: 0.3s ease box-shadow, 0.3s ease margin-top;\\n  background: white;\\n  border-radius: 4px;\\n  min-width: 200px;\\n  \",\"\\n\"],[\"\\n  position: absolute;\\n  transition: 0.3s ease box-shadow, 0.3s ease margin-top;\\n  background: white;\\n  border-radius: 4px;\\n  min-width: 200px;\\n  \",\"\\n\"])),(function(props){return props.isSelected&&styled_components_1.css(templateObject_1||(templateObject_1=__makeTemplateObject([\"\\n    box-shadow: 0 10px 20px rgba(0,0,0,.1);\\n    margin-top: -2px\\n    \"],[\"\\n    box-shadow: 0 10px 20px rgba(0,0,0,.1);\\n    margin-top: -2px\\n    \"])))}))},342:function(module,exports,__webpack_require__){\"use strict\";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,\"raw\",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,\"__esModule\",{value:!0});var templateObject_1,templateObject_2,React=__webpack_require__(0),styled_components_1=__webpack_require__(15),PortDefaultOuter=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject([\"\\n  width: 24px;\\n  height: 24px;\\n  border-radius: 50%;\\n  background: white;\\n  cursor: pointer;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  &:hover > div {\\n    background: cornflowerblue;\\n  }\\n\"],[\"\\n  width: 24px;\\n  height: 24px;\\n  border-radius: 50%;\\n  background: white;\\n  cursor: pointer;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  &:hover > div {\\n    background: cornflowerblue;\\n  }\\n\"]))),PortDefaultInner=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject([\"\\n  width: 12px;\\n  height: 12px;\\n  border-radius: 50%;\\n  background:  \",\";\\n  cursor: pointer;\\n\"],[\"\\n  width: 12px;\\n  height: 12px;\\n  border-radius: 50%;\\n  background:  \",\";\\n  cursor: pointer;\\n\"])),(function(props){return props.active?\"cornflowerblue\":\"grey\"}));exports.PortDefault=function(_a){var isLinkSelected=_a.isLinkSelected,isLinkHovered=_a.isLinkHovered,config=_a.config;return React.createElement(PortDefaultOuter,null,React.createElement(PortDefaultInner,{active:!config.readonly&&(isLinkSelected||isLinkHovered)}))}},346:function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var React=__webpack_require__(0),__1=__webpack_require__(9);exports.LinkDefault=function(_a){var config=_a.config,link=_a.link,startPos=_a.startPos,endPos=_a.endPos,fromPort=_a.fromPort,toPort=_a.toPort,onLinkMouseEnter=_a.onLinkMouseEnter,onLinkMouseLeave=_a.onLinkMouseLeave,onLinkClick=_a.onLinkClick,isHovered=_a.isHovered,isSelected=_a.isSelected,matrix=_a.matrix,points=config.smartRouting?toPort&&matrix?__1.generateSmartPath(matrix,startPos,endPos,fromPort,toPort):__1.generateRightAnglePath(startPos,endPos):__1.generateCurvePath(startPos,endPos);return React.createElement(\"svg\",{style:{overflow:\"visible\",position:\"absolute\",cursor:\"pointer\",left:0,right:0}},React.createElement(\"circle\",{r:\"4\",cx:startPos.x,cy:startPos.y,fill:\"cornflowerblue\"}),React.createElement(\"path\",{d:points,stroke:\"cornflowerblue\",strokeWidth:\"3\",fill:\"none\"}),React.createElement(\"path\",{d:points,stroke:\"cornflowerblue\",strokeWidth:\"20\",fill:\"none\",strokeLinecap:\"round\",strokeOpacity:isHovered||isSelected?.1:0,onMouseEnter:function(){return onLinkMouseEnter({config:config,linkId:link.id})},onMouseLeave:function(){return onLinkMouseLeave({config:config,linkId:link.id})},onClick:function(e){onLinkClick({config:config,linkId:link.id}),e.stopPropagation()}}),React.createElement(\"circle\",{r:\"4\",cx:endPos.x,cy:endPos.y,fill:\"cornflowerblue\"}))}},347:function(module,exports,__webpack_require__){\"use strict\";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,\"__esModule\",{value:!0}),__export(__webpack_require__(960)),__export(__webpack_require__(961))},348:function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});exports.MATRIX_PADDING=5,exports.NODE_PADDING=3;exports.getMatrix=function(offset,nodeDimensions){var _a=function(offset,nodeDimensions){var defaultNodeSize={width:500,height:500},dimensions={width:0,height:0},offsetX=Math.max(offset.x,0),offsetY=Math.max(offset.y,0);return nodeDimensions.forEach((function(node){var size=node.size||defaultNodeSize,x=node.position.x+offsetX+size.width,y=node.position.y+offsetY+size.height;x>dimensions.width&&(dimensions.width=x),y>dimensions.height&&(dimensions.height=y)})),dimensions}(offset,nodeDimensions),matrix=function(width,height){for(var adjustedWidth=Math.ceil(width/4)+exports.MATRIX_PADDING,adjustedHeight=Math.ceil(height/4)+exports.MATRIX_PADDING,matrix=[],i=0;i<adjustedHeight;i++)matrix.push(new Array(adjustedWidth).fill(0));return matrix}(_a.width,_a.height);return nodeDimensions.forEach((function(dimension){for(var position=dimension.position,size=dimension.size||{width:500,height:500},scaledSize_width=Math.ceil(size.width/5)+exports.NODE_PADDING,scaledSize_height=Math.ceil(size.height/5)+exports.NODE_PADDING,scaledX=Math.ceil(position.x/5),scaledY=Math.ceil(position.y/5),x=Math.max(scaledX-exports.NODE_PADDING,0);x<=scaledX+scaledSize_width;x++)for(var y=Math.max(scaledY-exports.NODE_PADDING,0);y<=scaledY+scaledSize_height;y++)matrix[y][x]=1})),matrix}},349:function(module,exports,__webpack_require__){\"use strict\";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,\"raw\",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,\"__esModule\",{value:!0});var templateObject_1,styled_components_1=__webpack_require__(15);exports.Content=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject([\"\\n  display: flex;\\n  flex-direction: column;\\n  flex: 1;\\n  overflow: hidden;\\n\"],[\"\\n  display: flex;\\n  flex-direction: column;\\n  flex: 1;\\n  overflow: hidden;\\n\"])))},350:function(module,exports,__webpack_require__){\"use strict\";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,\"raw\",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,\"__esModule\",{value:!0});var templateObject_1,templateObject_2,React=__webpack_require__(0),styled_components_1=__webpack_require__(15),GlobalStyle=styled_components_1.createGlobalStyle(templateObject_1||(templateObject_1=__makeTemplateObject([\"\\n  body {\\n    margin: 0px;\\n    max-width: 100vw;\\n    max-height: 100vh;\\n    overflow: hidden;\\n    box-sizing: border-box;\\n    font-family: sans-serif;\\n  }\\n\\n  *, :after, :before {\\n    box-sizing: inherit;\\n  }\\n\"],[\"\\n  body {\\n    margin: 0px;\\n    max-width: 100vw;\\n    max-height: 100vh;\\n    overflow: hidden;\\n    box-sizing: border-box;\\n    font-family: sans-serif;\\n  }\\n\\n  *, :after, :before {\\n    box-sizing: inherit;\\n  }\\n\"]))),PageContent=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject([\"\\n  display: flex;\\n  flex-direction: row;\\n  flex: 1;\\n  max-width: 100vw;\\n  max-height: 100vh;\\n\"],[\"\\n  display: flex;\\n  flex-direction: row;\\n  flex: 1;\\n  max-width: 100vw;\\n  max-height: 100vh;\\n\"])));exports.Page=function(_a){var children=_a.children;return React.createElement(PageContent,null,children,React.createElement(GlobalStyle,null))}},351:function(module,exports,__webpack_require__){\"use strict\";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,\"raw\",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,\"__esModule\",{value:!0});var templateObject_1,styled_components_1=__webpack_require__(15);exports.Sidebar=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject([\"\\n  width: 300px;\\n  background: white;\\n  display: flex;\\n  flex-direction: column;\\n  flex-shrink: 0;\\n\"],[\"\\n  width: 300px;\\n  background: white;\\n  display: flex;\\n  flex-direction: column;\\n  flex-shrink: 0;\\n\"])))},352:function(module,exports,__webpack_require__){\"use strict\";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,\"raw\",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,\"__esModule\",{value:!0});var templateObject_1,React=__webpack_require__(0),styled_components_1=__webpack_require__(15),src_1=__webpack_require__(9),Outer=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject([\"\\n  padding: 20px 30px;\\n  font-size: 14px;\\n  background: white;\\n  cursor: move;\\n\"],[\"\\n  padding: 20px 30px;\\n  font-size: 14px;\\n  background: white;\\n  cursor: move;\\n\"])));exports.SidebarItem=function(_a){var type=_a.type,ports=_a.ports,properties=_a.properties;return React.createElement(Outer,{draggable:!0,onDragStart:function(event){event.dataTransfer.setData(src_1.REACT_FLOW_CHART,JSON.stringify({type:type,ports:ports,properties:properties}))}},type)}},353:function(module,exports,__webpack_require__){\"use strict\";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,\"raw\",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,\"__esModule\",{value:!0});var templateObject_1,React=__webpack_require__(0),styled_components_1=__webpack_require__(15),src_1=__webpack_require__(9),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23),Note=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject([\"\\n  position: absolute;\\n  left: 30px;\\n  top: 30px;\\n  padding: 20px;\\n  background: white;\\n  border-radius: 10px;\\n  border: 2px solid red;\\n\"],[\"\\n  position: absolute;\\n  left: 30px;\\n  top: 30px;\\n  padding: 20px;\\n  background: white;\\n  border-radius: 10px;\\n  border: 2px solid red;\\n\"])));exports.ConfigValidateLinkDemo=function(){return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChartWithState,{initialValue:exampleChartState_1.chartSimple,config:{validateLink:function(_a){_a.linkId;var fromNodeId=_a.fromNodeId,toNodeId=(_a.fromPortId,_a.toNodeId),chart=(_a.toPortId,_a.chart);return chart.nodes[fromNodeId].type!==chart.nodes[toNodeId].type}}}),React.createElement(Note,null,\"Customise link validation. For example, only allow links between different Node Types\"))}},354:function(module,exports,__webpack_require__){\"use strict\";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,\"raw\",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,\"__esModule\",{value:!0});var templateObject_1,React=__webpack_require__(0),styled_components_1=__webpack_require__(15),src_1=__webpack_require__(9),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23),CanvasOuterCustom=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject([\"\\n  position: relative;\\n  background-size: 10px 10px;\\n  background-color: #4f6791;\\n  background-image:\\n    linear-gradient(90deg,hsla(0,0%,100%,.1) 1px,transparent 0),\\n    linear-gradient(180deg,hsla(0,0%,100%,.1) 1px,transparent 0);\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n  cursor: not-allowed;\\n\"],[\"\\n  position: relative;\\n  background-size: 10px 10px;\\n  background-color: #4f6791;\\n  background-image:\\n    linear-gradient(90deg,hsla(0,0%,100%,.1) 1px,transparent 0),\\n    linear-gradient(180deg,hsla(0,0%,100%,.1) 1px,transparent 0);\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n  cursor: not-allowed;\\n\"])));exports.CustomCanvasOuterDemo=function(){return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChartWithState,{initialValue:exampleChartState_1.chartSimple,Components:{CanvasOuter:CanvasOuterCustom}}))}},355:function(module,exports,__webpack_require__){\"use strict\";var extendStatics,__makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,\"raw\",{value:raw}):cooked.raw=raw,cooked},__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,\"__esModule\",{value:!0});var templateObject_1,templateObject_2,templateObject_3,lodash_1=__webpack_require__(66),React=__webpack_require__(0),styled_components_1=__webpack_require__(15),src_1=__webpack_require__(9),actions=__webpack_require__(80),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23),Label=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject([\"\\n  position: absolute;\\n\"],[\"\\n  position: absolute;\\n\"]))),Button=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject([\"\\n  position: absolute;\\n  top: 0px;\\n  right: 0px;\\n  padding: 5px;\\n  height: 15px;\\n  width: 15px;\\n  transform: translate(50%, -50%);\\n  background: red;\\n  color: white;\\n  border-radius: 50%;\\n  transition: 0.3s ease all;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 10px;\\n  cursor: pointer;\\n  &:hover {\\n    box-shadow: 0 10px 20px rgba(0,0,0,.1);\\n  }\\n\"],[\"\\n  position: absolute;\\n  top: 0px;\\n  right: 0px;\\n  padding: 5px;\\n  height: 15px;\\n  width: 15px;\\n  transform: translate(50%, -50%);\\n  background: red;\\n  color: white;\\n  border-radius: 50%;\\n  transition: 0.3s ease all;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 10px;\\n  cursor: pointer;\\n  &:hover {\\n    box-shadow: 0 10px 20px rgba(0,0,0,.1);\\n  }\\n\"]))),LabelContent=styled_components_1.default.div(templateObject_3||(templateObject_3=__makeTemplateObject([\"\\n  padding: 5px 10px;\\n  background: cornflowerblue;\\n  color: white;\\n  border-radius: 5px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 10px;\\n  cursor: pointer;\\n\"],[\"\\n  padding: 5px 10px;\\n  background: cornflowerblue;\\n  color: white;\\n  border-radius: 5px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 10px;\\n  cursor: pointer;\\n\"]))),CustomLinkDemo=function(_super){function CustomLinkDemo(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.state=lodash_1.cloneDeep(exampleChartState_1.chartSimple),_this}return __extends(CustomLinkDemo,_super),CustomLinkDemo.prototype.render=function(){var _this=this,chart=this.state,stateActions=lodash_1.mapValues(actions,(function(func){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return _this.setState(func.apply(void 0,args))}}));return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChart,{chart:chart,callbacks:stateActions,Components:{Link:function(props){var startPos=props.startPos,endPos=props.endPos,onLinkClick=props.onLinkClick,link=props.link,centerX=startPos.x+(endPos.x-startPos.x)/2,centerY=startPos.y+(endPos.y-startPos.y)/2;return React.createElement(React.Fragment,null,React.createElement(src_1.LinkDefault,__assign({},props)),React.createElement(Label,{style:{left:centerX,top:centerY}},props.link.properties&&props.link.properties.label&&React.createElement(LabelContent,null,props.link.properties&&props.link.properties.label),React.createElement(Button,{onClick:function(e){onLinkClick({linkId:link.id}),stateActions.onDeleteKey({}),e.stopPropagation()}},\"x\")))}}}))},CustomLinkDemo}(React.Component);exports.CustomLinkDemo=CustomLinkDemo},356:function(module,exports,__webpack_require__){\"use strict\";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,\"raw\",{value:raw}):cooked.raw=raw,cooked},__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&\"function\"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&(t[p[i]]=s[p[i]])}return t};Object.defineProperty(exports,\"__esModule\",{value:!0});var templateObject_1,templateObject_2,React=__webpack_require__(0),styled_components_1=__webpack_require__(15),src_1=__webpack_require__(9),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23),DarkBox=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject([\"\\n  position: absolute;\\n  padding: 30px;\\n  background: #3e3e3e;\\n  color: white;\\n  border-radius: 10px;\\n\"],[\"\\n  position: absolute;\\n  padding: 30px;\\n  background: #3e3e3e;\\n  color: white;\\n  border-radius: 10px;\\n\"]))),Circle=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject([\"\\n  position: absolute;\\n  width: 150px;\\n  height: 150px;\\n  padding: 30px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  background: #d30000;\\n  color: white;\\n  border-radius: 50%;\\n\"],[\"\\n  position: absolute;\\n  width: 150px;\\n  height: 150px;\\n  padding: 30px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  background: #d30000;\\n  color: white;\\n  border-radius: 50%;\\n\"]))),NodeCustom=React.forwardRef((function(_a,ref){var node=_a.node,children=_a.children,otherProps=__rest(_a,[\"node\",\"children\"]);return\"output-only\"===node.type?React.createElement(DarkBox,__assign({ref:ref},otherProps),children):React.createElement(Circle,__assign({ref:ref},otherProps),children)}));exports.CustomNodeDemo=function(){return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChartWithState,{initialValue:exampleChartState_1.chartSimple,Components:{Node:NodeCustom}}))}},357:function(module,exports,__webpack_require__){\"use strict\";var extendStatics,__makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,\"raw\",{value:raw}):cooked.raw=raw,cooked},__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,\"__esModule\",{value:!0});var templateObject_1,templateObject_2,lodash_1=__webpack_require__(66),React=__webpack_require__(0),styled_components_1=__webpack_require__(15),src_1=__webpack_require__(9),actions=__webpack_require__(80),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23),Outer=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject([\"\\n  padding: 30px;\\n\"],[\"\\n  padding: 30px;\\n\"]))),Input=styled_components_1.default.input(templateObject_2||(templateObject_2=__makeTemplateObject([\"\\n  padding: 10px;\\n  border: 1px solid cornflowerblue;\\n  width: 100%;\\n\"],[\"\\n  padding: 10px;\\n  border: 1px solid cornflowerblue;\\n  width: 100%;\\n\"]))),NodeInnerCustom=function(_a){var node=_a.node;_a.config;return\"output-only\"===node.type?React.createElement(Outer,null,React.createElement(\"p\",null,\"Use Node inner to customise the content of the node\")):React.createElement(Outer,null,React.createElement(\"p\",null,\"Add custom displays for each node.type\"),React.createElement(\"p\",null,\"You may need to stop event propagation so your forms work.\"),React.createElement(\"br\",null),React.createElement(Input,{type:\"number\",placeholder:\"Some Input\",onChange:function(e){return console.log(e)},onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()}}))},CustomNodeInnerDemo=function(_super){function CustomNodeInnerDemo(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.state=lodash_1.cloneDeep(exampleChartState_1.chartSimple),_this}return __extends(CustomNodeInnerDemo,_super),CustomNodeInnerDemo.prototype.render=function(){var _this=this,chart=this.state,stateActions=lodash_1.mapValues(actions,(function(func){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return _this.setState(func.apply(void 0,args))}}));return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChart,{chart:chart,callbacks:stateActions,Components:{NodeInner:NodeInnerCustom}}))},CustomNodeInnerDemo}(React.Component);exports.CustomNodeInnerDemo=CustomNodeInnerDemo},358:function(module,exports,__webpack_require__){\"use strict\";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,\"raw\",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,\"__esModule\",{value:!0});var templateObject_1,React=__webpack_require__(0),styled_components_1=__webpack_require__(15),src_1=__webpack_require__(9),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23),PortDefaultOuter=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject([\"\\n  width: 24px;\\n  height: 24px;\\n  background: cornflowerblue;\\n  cursor: pointer;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n\"],[\"\\n  width: 24px;\\n  height: 24px;\\n  background: cornflowerblue;\\n  cursor: pointer;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n\"]))),PortCustom=function(props){return React.createElement(PortDefaultOuter,null,props.port.properties&&\"yes\"===props.port.properties.value&&React.createElement(\"svg\",{style:{width:\"24px\",height:\"24px\"},viewBox:\"0 0 24 24\"},React.createElement(\"path\",{fill:\"white\",d:\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"})),props.port.properties&&\"no\"===props.port.properties.value&&React.createElement(\"svg\",{style:{width:\"24px\",height:\"24px\"},viewBox:\"0 0 24 24\"},React.createElement(\"path\",{fill:\"white\",d:\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\"})),!props.port.properties&&React.createElement(\"svg\",{style:{width:\"24px\",height:\"24px\"},viewBox:\"0 0 24 24\"},React.createElement(\"path\",{fill:\"white\",d:\"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z\"})))};exports.CustomPortDemo=function(){return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChartWithState,{initialValue:exampleChartState_1.chartSimple,Components:{Port:PortCustom}}))}},359:function(module,exports,__webpack_require__){\"use strict\";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,\"raw\",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,\"__esModule\",{value:!0});var templateObject_1,React=__webpack_require__(0),styled_components_1=__webpack_require__(15),src_1=__webpack_require__(9),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23),Message=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject([\"\\nmargin: 10px;\\npadding: 10px;\\nbackground: rgba(0,0,0,0.05);\\n\"],[\"\\nmargin: 10px;\\npadding: 10px;\\nbackground: rgba(0,0,0,0.05);\\n\"])));exports.DragAndDropSidebar=function(){return React.createElement(components_1.Page,null,React.createElement(components_1.Content,null,React.createElement(src_1.FlowChartWithState,{initialValue:exampleChartState_1.chartSimple})),React.createElement(components_1.Sidebar,null,React.createElement(Message,null,\"Drag and drop these items onto the canvas.\"),React.createElement(components_1.SidebarItem,{type:\"top/bottom\",ports:{port1:{id:\"port1\",type:\"top\",properties:{custom:\"property\"}},port2:{id:\"port1\",type:\"bottom\",properties:{custom:\"property\"}}},properties:{custom:\"property\"}}),React.createElement(components_1.SidebarItem,{type:\"bottom-only\",ports:{port1:{id:\"port1\",type:\"bottom\",properties:{custom:\"property\"}}}}),React.createElement(components_1.SidebarItem,{type:\"left-right\",ports:{port1:{id:\"port1\",type:\"left\",properties:{custom:\"property\"}},port2:{id:\"port2\",type:\"right\",properties:{custom:\"property\"}}}}),React.createElement(components_1.SidebarItem,{type:\"all-sides\",ports:{port1:{id:\"port1\",type:\"left\"},port2:{id:\"port2\",type:\"right\"},port3:{id:\"port3\",type:\"top\"},port4:{id:\"port4\",type:\"bottom\"}}}),React.createElement(components_1.SidebarItem,{type:\"lots-of-ports\",ports:{port1:{id:\"port1\",type:\"left\"},port2:{id:\"port2\",type:\"right\"},port3:{id:\"port3\",type:\"top\"},port4:{id:\"port4\",type:\"bottom\"},port5:{id:\"port5\",type:\"left\"},port6:{id:\"port6\",type:\"right\"},port7:{id:\"port7\",type:\"top\"},port8:{id:\"port8\",type:\"bottom\"},port9:{id:\"port9\",type:\"left\"},port10:{id:\"port10\",type:\"right\"},port11:{id:\"port11\",type:\"top\"},port12:{id:\"port12\",type:\"bottom\"}}})))}},360:function(module,exports,__webpack_require__){\"use strict\";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,\"__esModule\",{value:!0});var lodash_1=__webpack_require__(66),React=__webpack_require__(0),src_1=__webpack_require__(9),actions=__webpack_require__(80),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23),ExternalReactState=function(_super){function ExternalReactState(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.state=lodash_1.cloneDeep(exampleChartState_1.chartSimple),_this}return __extends(ExternalReactState,_super),ExternalReactState.prototype.render=function(){var _this=this,chart=this.state,stateActions=lodash_1.mapValues(actions,(function(func){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return _this.setState(func.apply(void 0,args))}}));return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChart,{chart:chart,callbacks:stateActions}))},ExternalReactState}(React.Component);exports.ExternalReactState=ExternalReactState},361:function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var React=__webpack_require__(0),src_1=__webpack_require__(9),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23);exports.InternalReactState=function(){return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChartWithState,{initialValue:exampleChartState_1.chartSimple}))}},362:function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var React=__webpack_require__(0),src_1=__webpack_require__(9),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23);exports.ReadonlyMode=function(){return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChartWithState,{config:{readonly:!0},initialValue:exampleChartState_1.chartSimple}))}},363:function(module,exports,__webpack_require__){\"use strict\";var extendStatics,__makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,\"raw\",{value:raw}):cooked.raw=raw,cooked},__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,\"__esModule\",{value:!0});var templateObject_1,templateObject_2,lodash_1=__webpack_require__(66),React=__webpack_require__(0),styled_components_1=__webpack_require__(15),src_1=__webpack_require__(9),actions=__webpack_require__(80),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23),Message=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject([\"\\n  margin: 10px;\\n  padding: 10px;\\n  line-height: 1.4em;\\n\"],[\"\\n  margin: 10px;\\n  padding: 10px;\\n  line-height: 1.4em;\\n\"]))),Button=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject([\"\\n  padding: 10px 15px;\\n  background: cornflowerblue;\\n  color: white;\\n  border-radius: 3px;\\n  text-align: center;\\n  transition: 0.3s ease all;\\n  cursor: pointer;\\n  &:hover {\\n    box-shadow: 0 10px 20px rgba(0,0,0,.1);\\n  }\\n  &:active {\\n    background: #5682d2;\\n  }\\n\"],[\"\\n  padding: 10px 15px;\\n  background: cornflowerblue;\\n  color: white;\\n  border-radius: 3px;\\n  text-align: center;\\n  transition: 0.3s ease all;\\n  cursor: pointer;\\n  &:hover {\\n    box-shadow: 0 10px 20px rgba(0,0,0,.1);\\n  }\\n  &:active {\\n    background: #5682d2;\\n  }\\n\"]))),SelectedSidebar=function(_super){function SelectedSidebar(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.state=lodash_1.cloneDeep(exampleChartState_1.chartSimple),_this}return __extends(SelectedSidebar,_super),SelectedSidebar.prototype.render=function(){var _this=this,chart=this.state,stateActions=lodash_1.mapValues(actions,(function(func){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return _this.setState(func.apply(void 0,args))}}));return React.createElement(components_1.Page,null,React.createElement(components_1.Content,null,React.createElement(src_1.FlowChart,{chart:chart,callbacks:stateActions})),React.createElement(components_1.Sidebar,null,chart.selected.type?React.createElement(Message,null,React.createElement(\"div\",null,\"Type: \",chart.selected.type),React.createElement(\"div\",null,\"ID: \",chart.selected.id),React.createElement(\"br\",null),React.createElement(Button,{onClick:function(){return stateActions.onDeleteKey({})}},\"Delete\")):React.createElement(Message,null,\"Click on a Node, Port or Link\")))},SelectedSidebar}(React.Component);exports.SelectedSidebar=SelectedSidebar},364:function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var React=__webpack_require__(0),src_1=__webpack_require__(9),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23);exports.SmartRouting=function(){return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChartWithState,{config:{smartRouting:!0},initialValue:exampleChartState_1.chartSimple}))}},365:function(module,exports,__webpack_require__){\"use strict\";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,\"raw\",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,\"__esModule\",{value:!0});var lodash_1=__webpack_require__(66),React=__webpack_require__(0),styled_components_1=__webpack_require__(15),src_1=__webpack_require__(9),components_1=__webpack_require__(22),StressTestWithState=function(){var _a=React.useState(100),rows=_a[0],setRows=_a[1],_b=React.useState(100),cols=_b[0],setCols=_b[1],chart=React.useMemo((function(){return function(rows,cols){var xyGrid=lodash_1.flatten(lodash_1.range(0,300*cols,300).map((function(x){return lodash_1.range(0,150*rows,150).map((function(y){return{x:x,y:y}}))})));return{offset:{x:0,y:0},nodes:lodash_1.keyBy(xyGrid.map((function(_a){var x=_a.x,y=_a.y;return{id:\"node-\"+x+\"-\"+y,type:\"default\",position:{x:x+100,y:y+100},ports:{port1:{id:\"port1\",type:\"top\"},port2:{id:\"port2\",type:\"bottom\"},port3:{id:\"port3\",type:\"right\"},port4:{id:\"port4\",type:\"left\"}}}})),\"id\"),links:lodash_1.keyBy(lodash_1.compact(lodash_1.flatMap(xyGrid,(function(_a,idx){var x=_a.x,y=_a.y,next=xyGrid[idx+1];if(next)return[{id:\"link-\"+x+\"-\"+y+\"-a\",from:{nodeId:\"node-\"+x+\"-\"+y,portId:\"port2\"},to:{nodeId:\"node-\"+next.x+\"-\"+next.y,portId:\"port3\"}},{id:\"link-\"+x+\"-\"+y+\"-b\",from:{nodeId:\"node-\"+x+\"-\"+y,portId:\"port2\"},to:{nodeId:\"node-\"+next.x+\"-\"+next.y,portId:\"port4\"}}]}))),\"id\"),selected:{},hovered:{}}}(rows,cols)}),[rows,cols]);return React.createElement(React.Fragment,null,React.createElement(Controls,null,React.createElement(Label,null,\"Columns:\"),React.createElement(Input,{type:\"number\",value:cols,onChange:function(e){return setCols(parseInt(e.target.value,10))}}),React.createElement(Label,null,\"Rows:\"),React.createElement(Input,{type:\"number\",value:rows,onChange:function(e){return setRows(parseInt(e.target.value,10))}})),React.createElement(components_1.Page,null,React.createElement(src_1.FlowChartWithState,{key:cols+\":\"+rows,initialValue:chart})))};exports.StressTestDemo=function(){return React.createElement(StressTestWithState,null)};var templateObject_1,templateObject_2,templateObject_3,Input=styled_components_1.default.input(templateObject_1||(templateObject_1=__makeTemplateObject([\"\\n  padding: 5px 5px 5px 10px;\\n  width: 50px;\\n\"],[\"\\n  padding: 5px 5px 5px 10px;\\n  width: 50px;\\n\"]))),Label=styled_components_1.default.label(templateObject_2||(templateObject_2=__makeTemplateObject([\"\\n  padding: 0 10px;\\n  font-size: 14px;\\n\"],[\"\\n  padding: 0 10px;\\n  font-size: 14px;\\n\"]))),Controls=styled_components_1.default.div(templateObject_3||(templateObject_3=__makeTemplateObject([\"\\n  padding: 10px;\\n\"],[\"\\n  padding: 10px;\\n\"])))},372:function(module,exports,__webpack_require__){__webpack_require__(373),__webpack_require__(739),module.exports=__webpack_require__(740)},512:function(module,exports){},740:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(34),__webpack_require__(93),__webpack_require__(29),__webpack_require__(43);var _storybook_addon_options__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(366),_storybook_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(199);Object(_storybook_addon_options__WEBPACK_IMPORTED_MODULE_4__.setOptions)({hierarchySeparator:/\\/|\\./,hierarchyRootSeparator:/\\|/}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.configure)((function loadStories(){!function requireAll(requireContext){return requireContext.keys().map(requireContext)}(__webpack_require__(934))}),module)}.call(this,__webpack_require__(741)(module))},80:function(module,exports,__webpack_require__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,\"__esModule\",{value:!0});var uuid_1=__webpack_require__(343),__1=__webpack_require__(9),rotate_1=__webpack_require__(981);exports.onDragNode=function(_a){var config=_a.config,data=(_a.event,_a.data),id=_a.id;return function(chart){var nodechart=chart.nodes[id];return nodechart&&(chart.nodes[id]=__assign({},nodechart,{position:config&&config.snapToGrid?{x:20*Math.round(data.x/20),y:20*Math.round(data.y/20)}:{x:data.x,y:data.y}})),chart}},exports.onDragNodeStop=function(){return __1.identity},exports.onDragCanvas=function(_a){var config=_a.config,data=(_a.event,_a.data);return function(chart){return chart.offset=config&&config.snapToGrid?{x:20*Math.round(data.x/20),y:20*Math.round(data.y/20)}:{x:data.x,y:data.y},chart}},exports.onDragCanvasStop=function(){return __1.identity},exports.onLinkStart=function(_a){var linkId=_a.linkId,fromNodeId=_a.fromNodeId,fromPortId=_a.fromPortId;return function(chart){return chart.links[linkId]={id:linkId,from:{nodeId:fromNodeId,portId:fromPortId},to:{}},chart}},exports.onLinkMove=function(_a){var linkId=_a.linkId,toPosition=_a.toPosition;return function(chart){var link=chart.links[linkId];return link.to.position=toPosition,chart.links[linkId]=__assign({},link),chart}},exports.onLinkComplete=function(props){var linkId=props.linkId,fromNodeId=props.fromNodeId,fromPortId=props.fromPortId,toNodeId=props.toNodeId,toPortId=props.toPortId,_a=props.config,config=void 0===_a?{}:_a;return function(chart){return config.readonly||config.validateLink&&!config.validateLink(__assign({},props,{chart:chart}))||[fromNodeId,fromPortId].join()===[toNodeId,toPortId].join()?delete chart.links[linkId]:chart.links[linkId].to={nodeId:toNodeId,portId:toPortId},chart}},exports.onLinkCancel=function(_a){var linkId=_a.linkId;return function(chart){return delete chart.links[linkId],chart}},exports.onLinkMouseEnter=function(_a){var linkId=_a.linkId;return function(chart){var link=chart.links[linkId];return link.to.nodeId&&link.to.portId&&(\"link\"===chart.hovered.type&&chart.hovered.id===linkId||(chart.hovered={type:\"link\",id:linkId})),chart}},exports.onLinkMouseLeave=function(_a){var linkId=_a.linkId;return function(chart){var link=chart.links[linkId];return link.to.nodeId&&link.to.portId&&(chart.hovered={}),chart}},exports.onLinkClick=function(_a){var linkId=_a.linkId;return function(chart){return chart.selected.id===linkId&&\"link\"===chart.selected.type||(chart.selected={type:\"link\",id:linkId}),chart}},exports.onCanvasClick=function(){return function(chart){return chart.selected.id&&(chart.selected={}),chart}},exports.onNodeMouseEnter=function(_a){var nodeId=_a.nodeId;return function(chart){return __assign({},chart,{hovered:{type:\"node\",id:nodeId}})}},exports.onNodeMouseLeave=function(_a){var nodeId=_a.nodeId;return function(chart){return\"node\"===chart.hovered.type&&chart.hovered.id===nodeId?__assign({},chart,{hovered:{}}):chart}},exports.onDeleteKey=function(){return function(chart){if(\"node\"===chart.selected.type&&chart.selected.id){var node_1=chart.nodes[chart.selected.id];Object.keys(chart.links).forEach((function(linkId){var link=chart.links[linkId];link.from.nodeId!==node_1.id&&link.to.nodeId!==node_1.id||delete chart.links[link.id]})),delete chart.nodes[chart.selected.id]}else\"link\"===chart.selected.type&&chart.selected.id&&delete chart.links[chart.selected.id];return chart.selected&&(chart.selected={}),chart}},exports.onNodeClick=function(_a){var nodeId=_a.nodeId;return function(chart){return chart.selected.id===nodeId&&\"node\"===chart.selected.type||(chart.selected={type:\"node\",id:nodeId}),chart}},exports.onNodeSizeChange=function(_a){var nodeId=_a.nodeId,size=_a.size;return function(chart){return chart.nodes[nodeId]=__assign({},chart.nodes[nodeId],{size:size}),chart}},exports.onPortPositionChange=function(_a){var nodeToUpdate=_a.node,port=_a.port,el=_a.el,nodesEl=_a.nodesEl;return function(chart){if(nodeToUpdate.size){var center={x:nodeToUpdate.size.width/2,y:nodeToUpdate.size.height/2},current={x:el.offsetLeft+nodesEl.offsetLeft+el.offsetWidth/2,y:el.offsetTop+nodesEl.offsetTop+el.offsetHeight/2},angle=nodeToUpdate.orientation||0,position=rotate_1.rotate(center,current,angle),node=chart.nodes[nodeToUpdate.id];node.ports[port.id].position={x:position.x,y:position.y},chart.nodes[nodeToUpdate.id]=__assign({},node)}return chart}},exports.onCanvasDrop=function(_a){var config=_a.config,data=_a.data,position=_a.position;return function(chart){var id=uuid_1.v4();return chart.nodes[id]={id:id,position:config&&config.snapToGrid?{x:20*Math.round(position.x/20),y:20*Math.round(position.y/20)}:{x:position.x,y:position.y},orientation:data.orientation||0,type:data.type,ports:data.ports,properties:data.properties},chart}}},9:function(module,exports,__webpack_require__){\"use strict\";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,\"__esModule\",{value:!0}),__export(__webpack_require__(935)),__export(__webpack_require__(980)),__export(__webpack_require__(984)),__export(__webpack_require__(195))},934:function(module,exports,__webpack_require__){var map={\"./ConfigSnapToGrid.tsx\":339,\"./ConfigValidateLink.tsx\":353,\"./CustomCanvasOuter.tsx\":354,\"./CustomLink.tsx\":355,\"./CustomNode.tsx\":356,\"./CustomNodeInner.tsx\":357,\"./CustomPort.tsx\":358,\"./DragAndDropSidebar.tsx\":359,\"./ExternalReactState.tsx\":360,\"./InternalReactState.tsx\":361,\"./ReadonlyMode.tsx\":362,\"./SelectedSidebar.tsx\":363,\"./SmartRouting.tsx\":364,\"./StressTest.tsx\":365,\"./components/Content.tsx\":349,\"./components/Page.tsx\":350,\"./components/Sidebar.tsx\":351,\"./components/SidebarItem.tsx\":352,\"./components/index.ts\":22,\"./index.tsx\":985,\"./misc/exampleChartState.ts\":23,\"./utils/throttleRender.tsx\":986};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error(\"Cannot find module '\"+req+\"'\");throw e.code=\"MODULE_NOT_FOUND\",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=934},935:function(module,exports,__webpack_require__){\"use strict\";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,\"__esModule\",{value:!0}),__export(__webpack_require__(936)),__export(__webpack_require__(944)),__export(__webpack_require__(948)),__export(__webpack_require__(950)),__export(__webpack_require__(954)),__export(__webpack_require__(956)),__export(__webpack_require__(958)),__export(__webpack_require__(978))},936:function(module,exports,__webpack_require__){\"use strict\";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,\"__esModule\",{value:!0}),__export(__webpack_require__(937)),__export(__webpack_require__(941)),__export(__webpack_require__(942))},937:function(module,exports,__webpack_require__){\"use strict\";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,\"raw\",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,\"__esModule\",{value:!0});var templateObject_1,styled_components_1=__webpack_require__(15);exports.CanvasInnerDefault=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject([\"\\n  position: relative;\\n  outline: 1px dashed rgba(0,0,0,0.1);\\n  width: 10000px;\\n  height: 10000px;\\n  cursor: move;\\n\"],[\"\\n  position: relative;\\n  outline: 1px dashed rgba(0,0,0,0.1);\\n  width: 10000px;\\n  height: 10000px;\\n  cursor: move;\\n\"])))},941:function(module,exports,__webpack_require__){\"use strict\";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,\"raw\",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,\"__esModule\",{value:!0});var templateObject_1,styled_components_1=__webpack_require__(15);exports.CanvasOuterDefault=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject([\"\\n  position: relative;\\n  background-size: 20px 20px;\\n  background-color: rgba(0,0,0,0.08);\\n  background-image:\\n    linear-gradient(90deg,hsla(0,0%,100%,.2) 1px,transparent 0),\\n    linear-gradient(180deg,hsla(0,0%,100%,.2) 1px,transparent 0);\\n  width: 100%;\\n  overflow: hidden;\\n  cursor: not-allowed;\\n\"],[\"\\n  position: relative;\\n  background-size: 20px 20px;\\n  background-color: rgba(0,0,0,0.08);\\n  background-image:\\n    linear-gradient(90deg,hsla(0,0%,100%,.2) 1px,transparent 0),\\n    linear-gradient(180deg,hsla(0,0%,100%,.2) 1px,transparent 0);\\n  width: 100%;\\n  overflow: hidden;\\n  cursor: not-allowed;\\n\"])))},942:function(module,exports,__webpack_require__){\"use strict\";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,\"__esModule\",{value:!0});var React=__webpack_require__(0),pinchZoomPan_1=__webpack_require__(943),__1=__webpack_require__(9),CanvasContext_1=__webpack_require__(340),CanvasWrapper=function(_super){function CanvasWrapper(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.state={width:0,height:0,offsetX:0,offsetY:0},_this.ref=React.createRef(),_this.updateSize=function(){var el=_this.ref.current;if(el){var rect=el.getBoundingClientRect();el.offsetWidth===_this.state.width&&el.offsetHeight===_this.state.height||(_this.setState({width:el.offsetWidth,height:el.offsetHeight}),_this.props.onSizeChange(el.offsetWidth,el.offsetHeight)),rect.left===_this.state.offsetX&&rect.top===_this.state.offsetY||_this.setState({offsetX:rect.left,offsetY:rect.top})}},_this}return __extends(CanvasWrapper,_super),CanvasWrapper.prototype.componentDidMount=function(){if(this.updateSize(),this.ref.current){if(window.ResizeObserver)new window.ResizeObserver(this.updateSize).observe(this.ref.current);else window.addEventListener(\"resize\",this.updateSize);window.addEventListener(\"scroll\",this.updateSize)}},CanvasWrapper.prototype.componentDidUpdate=function(){this.updateSize()},CanvasWrapper.prototype.componentWillUnmount=function(){window.removeEventListener(\"resize\",this.updateSize),window.removeEventListener(\"scroll\",this.updateSize)},CanvasWrapper.prototype.render=function(){var _a=this.props,config=_a.config,ComponentInner=_a.ComponentInner,ComponentOuter=_a.ComponentOuter,position=_a.position,children=(_a.onDragCanvas,_a.onDragCanvasStop,_a.children),onCanvasClick=_a.onCanvasClick,onDeleteKey=_a.onDeleteKey,onCanvasDrop=_a.onCanvasDrop,_b=this.state,offsetX=_b.offsetX,offsetY=_b.offsetY;return console.log(\"render me\"),React.createElement(CanvasContext_1.default.Provider,{value:{offsetX:this.state.offsetX,offsetY:this.state.offsetY}},React.createElement(ComponentOuter,{config:config,ref:this.ref},React.createElement(pinchZoomPan_1.default,{initialTop:0,initialLeft:0,initialScale:\"auto\",minScale:\"auto\",maxScale:1},React.createElement(ComponentInner,{config:config,children:children,onClick:onCanvasClick,tabIndex:0,onKeyDown:function(e){46!==e.keyCode&&8!==e.keyCode||onDeleteKey({config:config})},onDrop:function(e){var data=JSON.parse(e.dataTransfer.getData(__1.REACT_FLOW_CHART));data&&onCanvasDrop({data:data,position:{x:e.clientX-(position.x+offsetX),y:e.clientY-(position.y+offsetY)}})},onDragOver:function(e){return e.preventDefault()}}))))},CanvasWrapper}(React.Component);exports.CanvasWrapper=CanvasWrapper},943:function(module,exports,__webpack_require__){\"use strict\";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,\"__esModule\",{value:!0});var React=__webpack_require__(0),snapToTarget=function(value,target,tolerance){return Math.abs(target-value)<tolerance?target:value},rangeBind=function(lowerBound,upperBound,value){return Math.min(upperBound,Math.max(lowerBound,value))},invert=function(value){return-1*value},getRelativePosition=function(_a,relativeToElement){var clientX=_a.clientX,clientY=_a.clientY,rect=relativeToElement.getBoundingClientRect();return{x:clientX-rect.left,y:clientY-rect.top}},getDistanceBetweenPoints=function(pointA,pointB){return Math.sqrt(Math.pow(pointA.y-pointB.y,2)+Math.pow(pointA.x-pointB.x,2))},PinchZoomPan=function(_super){function PinchZoomPan(props){var _this=_super.call(this,props)||this;return _this.handleTouchStart=_this.handleTouchStart.bind(_this),_this.handleTouchMove=_this.handleTouchMove.bind(_this),_this.handleTouchEnd=_this.handleTouchEnd.bind(_this),_this.handleMouseDown=_this.handleMouseDown.bind(_this),_this.handleMouseMove=_this.handleMouseMove.bind(_this),_this.handleMouseUp=_this.handleMouseUp.bind(_this),_this.handleMouseWheel=_this.handleMouseWheel.bind(_this),_this.handleWindowResize=_this.handleWindowResize.bind(_this),_this.handleImageLoad=_this.handleImageLoad.bind(_this),_this}return __extends(PinchZoomPan,_super),PinchZoomPan.getDerivedStateFromProps=function(nextProps,prevState){return nextProps.initialTop!==prevState.initialTop||nextProps.initialLeft!==prevState.initialLeft||nextProps.initialScale!==prevState.initialScale?{initialTop:nextProps.initialTop,initialLeft:nextProps.initialLeft,initialScale:nextProps.initialScale}:null},PinchZoomPan.prototype.handleTouchStart=function(event){this.animation&&cancelAnimationFrame(this.animation);var touches=event.touches;2===touches.length?(this.pinchStart(touches),this.lastPanPointerPosition=null):1===touches.length&&this.pointerDown(touches[0])},PinchZoomPan.prototype.handleTouchMove=function(event){var touches=event.touches;if(2===touches.length)event.preventDefault(),this.pinchChange(touches);else if(1===touches.length){this.pan(touches[0])>0&&this.state.top<0&&event.preventDefault()}},PinchZoomPan.prototype.handleTouchEnd=function(event){return event.touches&&event.touches.length>0?null:(this.ensureValidTransform(.1),this.pointerUp(event.timeStamp),event.preventDefault())},PinchZoomPan.prototype.handleMouseDown=function(event){this.animation&&cancelAnimationFrame(this.animation),this.mouseDown=!0,this.pointerDown(event)},PinchZoomPan.prototype.handleMouseMove=function(event){return this.mouseDown?this.pan(event):null},PinchZoomPan.prototype.handleMouseUp=function(event){this.pointerUp(event.timeStamp),this.mouseDown&&(this.mouseDown=!1)},PinchZoomPan.prototype.handleMouseWheel=function(event){this.animation&&cancelAnimationFrame(this.animation);var point=getRelativePosition(event,this.container);event.deltaY>0?this.state.scale>this.minScale&&(this.zoomOut(point),event.preventDefault()):event.deltaY<0&&this.state.scale<this.props.maxScale&&(this.zoomIn(point),event.preventDefault())},PinchZoomPan.prototype.handleWindowResize=function(event){this.ensureConstraints()},PinchZoomPan.prototype.handleImageLoad=function(){this.ensureConstraints()},PinchZoomPan.prototype.pointerDown=function(clientPosition){this.lastPanPointerPosition=getRelativePosition(clientPosition,this.container)},PinchZoomPan.prototype.pan=function(pointerClientPosition){var pointerPosition=getRelativePosition(pointerClientPosition,this.container),translateX=pointerPosition.x-this.lastPanPointerPosition.x,translateY=pointerPosition.y-this.lastPanPointerPosition.y,top=this.state.top+translateY,left=this.state.left+translateX;return this.move(top,left,0),this.lastPanPointerPosition=pointerPosition,translateY>0?1:translateY<0?-1:0},PinchZoomPan.prototype.pointerUp=function(timeStamp){this.lastPointerUpTimeStamp&&this.lastPointerUpTimeStamp+300>timeStamp&&this.transformToProps(.1),this.lastPointerUpTimeStamp=timeStamp},PinchZoomPan.prototype.move=function(top,left,tolerance,speed){void 0===speed&&(speed=0),this.applyTransform(top,left,this.state.scale,tolerance,speed)},PinchZoomPan.prototype.pinchStart=function(touches){var pointA=getRelativePosition(touches[0],this.container),pointB=getRelativePosition(touches[1],this.container);this.lastPinchLength=getDistanceBetweenPoints(pointA,pointB)},PinchZoomPan.prototype.pinchChange=function(touches){var pointA=getRelativePosition(touches[0],this.container),pointB=getRelativePosition(touches[1],this.container),length=getDistanceBetweenPoints(pointA,pointB),scale=this.state.scale*length/this.lastPinchLength,midpoint=function(pointA,pointB){return{x:(pointA.x+pointB.x)/2,y:(pointA.y+pointB.y)/2}}(pointA,pointB);this.zoom(scale,midpoint,.05),this.lastPinchMidpoint=midpoint,this.lastPinchLength=length},PinchZoomPan.prototype.zoomIn=function(midpoint){midpoint=midpoint||{x:this.container.offsetWidth/2,y:this.container.offsetHeight/2},this.zoom(1.05*this.state.scale,midpoint,0)},PinchZoomPan.prototype.zoomOut=function(midpoint){midpoint=midpoint||{x:this.container.offsetWidth/2,y:this.container.offsetHeight/2},this.zoom(.95*this.state.scale,midpoint,0)},PinchZoomPan.prototype.zoom=function(scale,midpoint,tolerance,speed){void 0===speed&&(speed=0),scale=this.getValidTransform(0,0,scale,tolerance).scale;var incrementalScalePercentage=(this.state.scale-scale)/this.state.scale,translateY=(midpoint.y-this.state.top)*incrementalScalePercentage,translateX=(midpoint.x-this.state.left)*incrementalScalePercentage,top=this.state.top+translateY,left=this.state.left+translateX;this.applyTransform(top,left,scale,tolerance,speed)},PinchZoomPan.prototype.applyTransform=function(requestedTop,requestedLeft,requestedScale,tolerance,speed){var _this=this;void 0===speed&&(speed=0);var _a=this.getValidTransform(requestedTop,requestedLeft,requestedScale,tolerance),top=_a.top,left=_a.left,scale=_a.scale;if(this.state.scale!==scale||this.state.top!==top||this.state.left!==left)if(speed>0){var frame_1=function(){var translateY=top-_this.state.top,translateX=left-_this.state.left,translateScale=scale-_this.state.scale,nextTransform={top:snapToTarget(_this.state.top+speed*translateY,top,.001),left:snapToTarget(_this.state.left+speed*translateX,left,.001),scale:snapToTarget(_this.state.scale+speed*translateScale,scale,.001)};_this.setState(nextTransform,(function(){return _this.animation=requestAnimationFrame(frame_1)}))};this.animation=requestAnimationFrame(frame_1)}else this.setState({top:top,left:left,scale:scale})},PinchZoomPan.prototype.getValidTransform=function(top,left,scale,tolerance){var transform={scale:scale||1,top:top||0,left:left||0},lowerBoundFactor=1-tolerance,upperBoundFactor=1+tolerance;transform.scale=rangeBind(this.minScale*lowerBoundFactor,this.props.maxScale*upperBoundFactor,transform.scale);var negativeSpace=this.calculateNegativeSpace(transform.scale),overflow={width:Math.max(0,invert(negativeSpace.width)),height:Math.max(0,invert(negativeSpace.height))};return transform.top=rangeBind(invert(overflow.height)*upperBoundFactor,overflow.height*upperBoundFactor-overflow.height,transform.top),transform.left=rangeBind(invert(overflow.width)*upperBoundFactor,overflow.width*upperBoundFactor-overflow.width,transform.left),transform},PinchZoomPan.prototype.transformToProps=function(speed){void 0===speed&&(speed=0);var scale=\"auto\"===this.props.initialScale?this.calculateAutofitScale():this.props.initialScale;this.applyTransform(this.props.initialTop,this.props.initialLeft,scale,0,speed)},PinchZoomPan.prototype.ensureValidTransform=function(speed){void 0===speed&&(speed=0),this.applyTransform(this.state.top,this.state.left,this.state.scale,0,speed)},PinchZoomPan.prototype.render=function(){var _this=this,childElement=React.Children.only(this.props.children),originalRef=childElement.ref;return React.createElement(\"div\",{style:{position:\"relative\",overflow:\"hidden\",width:\"100%\",height:\"100%\"}},React.cloneElement(childElement,{onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,onWheel:this.handleMouseWheel,onDragStart:function(event){return event.preventDefault()},onLoad:this.handleImageLoad,ref:function(element){_this.image=element,\"function\"==typeof originalRef&&originalRef(element)},style:{cursor:\"pointer\",transform:\"translate3d(\"+this.state.left+\"px, \"+this.state.top+\"px, 0) scale(\"+this.state.scale+\")\",transformOrigin:\"0 0\"}}))},PinchZoomPan.prototype.componentDidMount=function(){this.image.addEventListener(\"touchmove\",this.handleTouchMove,{passive:!1}),window.addEventListener(\"resize\",this.handleWindowResize),this.container=this.image.parentNode.parentNode,this.image.offsetWidth&&this.image.offsetHeight&&(this.applyConstraints(),this.transformToProps())},PinchZoomPan.prototype.componentDidUpdate=function(prevProps,prevState){this.image.offsetWidth&&this.image.offsetHeight&&(this.ensureConstraints(),void 0===this.state.scale&&this.transformToProps())},PinchZoomPan.prototype.componentWillUnmount=function(){this.image.removeEventListener(\"touchmove\",this.handleTouchMove),window.removeEventListener(\"resize\",this.handleWindowResize)},PinchZoomPan.prototype.ensureConstraints=function(){if(this.image.offsetWidth&&this.image.offsetHeight){var negativeSpace=this.calculateNegativeSpace(1);this.lastUnzoomedNegativeSpace&&negativeSpace.height===this.lastUnzoomedNegativeSpace.height&&negativeSpace.width===this.lastUnzoomedNegativeSpace.width||(this.applyConstraints(),this.forceUpdate())}},PinchZoomPan.prototype.applyConstraints=function(){var minScale=this.props.minScale?this.calculateAutofitScale():this.props.minScale;this.minScale!==minScale&&(this.minScale=minScale,this.ensureValidTransform()),this.lastUnzoomedNegativeSpace=this.calculateNegativeSpace(1)},PinchZoomPan.prototype.calculateNegativeSpace=function(scale){return void 0===scale&&(scale=this.state.scale),{width:this.container.offsetWidth-scale*this.image.offsetWidth,height:this.container.offsetHeight-scale*this.image.offsetHeight}},PinchZoomPan.prototype.calculateAutofitScale=function(){var autofitScale=1;return this.image.offsetWidth>0&&(autofitScale=Math.min(this.container.offsetWidth/this.image.offsetWidth,autofitScale)),this.image.offsetHeight>0&&(autofitScale=Math.min(this.container.offsetHeight/this.image.offsetHeight,autofitScale)),autofitScale},PinchZoomPan}(React.Component);exports.PinchZoomPan=PinchZoomPan},944:function(module,exports,__webpack_require__){\"use strict\";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,\"__esModule\",{value:!0}),__export(__webpack_require__(341)),__export(__webpack_require__(945))},945:function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var React=__webpack_require__(0),ReactDOM=__webpack_require__(98),react_draggable_1=__webpack_require__(946),react_resize_observer_1=__webpack_require__(947),__1=__webpack_require__(9),utils_1=__webpack_require__(195),Node_default_1=__webpack_require__(341);exports.NodeWrapper=function(_a){var config=_a.config,node=_a.node,onDragNode=_a.onDragNode,onDragNodeStop=_a.onDragNodeStop,onNodeClick=_a.onNodeClick,isSelected=_a.isSelected,_b=_a.Component,Component=void 0===_b?Node_default_1.NodeDefault:_b,onNodeSizeChange=_a.onNodeSizeChange,onNodeMouseEnter=_a.onNodeMouseEnter,onNodeMouseLeave=_a.onNodeMouseLeave,NodeInner=_a.NodeInner,Ports=_a.Ports,Port=_a.Port,offset=_a.offset,selected=_a.selected,selectedLink=_a.selectedLink,hovered=_a.hovered,hoveredLink=_a.hoveredLink,onPortPositionChange=_a.onPortPositionChange,onLinkStart=_a.onLinkStart,onLinkMove=_a.onLinkMove,onLinkComplete=_a.onLinkComplete,onLinkCancel=_a.onLinkCancel,_c=React.useState({width:0,height:0}),size=_c[0],setSize=_c[1],isDragging=React.useRef(!1),onStart=React.useCallback((function(e){e.stopPropagation(),isDragging.current=!1}),[]),onDrag=React.useCallback((function(event,data){isDragging.current=!0,onDragNode({config:config,event:event,data:data,id:node.id})}),[onDragNode,config,node.id]),onStop=React.useCallback((function(event,data){isDragging.current=!1,onDragNodeStop({config:config,event:event,data:data,id:node.id})}),[onDragNodeStop,config,node.id]),onClick=React.useCallback((function(e){config.readonly||(e.stopPropagation(),isDragging.current||onNodeClick({config:config,nodeId:node.id}))}),[config,node.id]),onMouseEnter=React.useCallback((function(){onNodeMouseEnter({config:config,nodeId:node.id})}),[config,node.id]),onMouseLeave=React.useCallback((function(){onNodeMouseLeave({config:config,nodeId:node.id})}),[config,node.id]),compRef=React.useRef(null);React.useLayoutEffect((function(){var el=ReactDOM.findDOMNode(compRef.current);if(el&&((node.size&&node.size.width)!==el.offsetWidth||(node.size&&node.size.height)!==el.offsetHeight)){var newSize={width:el.offsetWidth,height:el.offsetHeight};setSize(newSize),onNodeSizeChange({config:config,nodeId:node.id,size:newSize})}}),[node,compRef.current,size.width,size.height]);var children=React.createElement(React.Fragment,null,React.createElement(react_resize_observer_1.default,{onResize:function(rect){var newSize={width:rect.width,height:rect.height};setSize(newSize)}}),React.createElement(NodeInner,{node:node,config:config}),React.createElement(Ports,{node:node,config:config},Object.keys(node.ports).map((function(portId){return React.createElement(__1.PortWrapper,{config:config,key:portId,offset:offset,selected:selected,selectedLink:selectedLink,hoveredLink:hoveredLink,hovered:hovered,node:node,port:node.ports[portId],Component:Port,onPortPositionChange:onPortPositionChange,onLinkStart:config.readonly?utils_1.noop:onLinkStart,onLinkMove:config.readonly?utils_1.noop:onLinkMove,onLinkComplete:onLinkComplete,onLinkCancel:onLinkCancel})}))));return React.createElement(react_draggable_1.default,{bounds:\"parent\",axis:\"both\",position:node.position,grid:[1,1],onStart:onStart,onDrag:onDrag,onStop:onStop,disabled:config.readonly},React.createElement(Component,{config:config,ref:compRef,children:children,onClick:onClick,onMouseEnter:onMouseEnter,onMouseLeave:onMouseLeave,isSelected:isSelected,node:node}))}},948:function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(__webpack_require__(949))},949:function(module,exports,__webpack_require__){\"use strict\";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,\"raw\",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,\"__esModule\",{value:!0});var templateObject_1,React=__webpack_require__(0),Outer=__webpack_require__(15).default.div(templateObject_1||(templateObject_1=__makeTemplateObject([\"\\n  padding: 40px 30px;\\n\"],[\"\\n  padding: 40px 30px;\\n\"])));exports.NodeInnerDefault=function(_a){var node=_a.node;return React.createElement(Outer,null,React.createElement(\"div\",null,\"Type: \",node.type))}},950:function(module,exports,__webpack_require__){\"use strict\";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,\"__esModule\",{value:!0}),__export(__webpack_require__(342)),__export(__webpack_require__(951))},951:function(module,exports,__webpack_require__){\"use strict\";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,\"__esModule\",{value:!0});var lodash_1=__webpack_require__(66),React=__webpack_require__(0),ReactDOM=__webpack_require__(98),uuid_1=__webpack_require__(343),CanvasContext_1=__webpack_require__(340),Port_default_1=__webpack_require__(342),composedPath=function(el){for(var path=[];el;)path.push(el),el=el.parentElement;return path},PortWrapper=function(_super){function PortWrapper(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.nodeRef=React.createRef(),_this.onMouseDown=function(startEvent){var _a=_this.props,offset=_a.offset,node=_a.node,port=_a.port,onLinkStart=_a.onLinkStart,onLinkCancel=_a.onLinkCancel,onLinkComplete=_a.onLinkComplete,onLinkMove=_a.onLinkMove,config=_a.config,linkId=uuid_1.v4(),fromNodeId=node.id,fromPortId=port.id,mouseMoveHandler=function(e){var _a=_this.context,offsetX=_a.offsetX,offsetY=_a.offsetY;onLinkMove({config:config,linkId:linkId,startEvent:startEvent,fromNodeId:fromNodeId,fromPortId:fromPortId,toPosition:{x:e.clientX-offsetX-offset.x,y:e.clientY-offsetY-offset.y}})},mouseUpHandler=function(e){var portEl=composedPath(e.target).find((function(el){var toPortId=el.getAttribute&&el.getAttribute(\"data-port-id\"),toNodeId=el.getAttribute&&el.getAttribute(\"data-node-id\");return!(!toPortId||!toNodeId)}));if(portEl){var toPortId=portEl.getAttribute(\"data-port-id\"),toNodeId=portEl.getAttribute(\"data-node-id\");onLinkComplete({config:config,linkId:linkId,startEvent:startEvent,fromNodeId:fromNodeId,fromPortId:fromPortId,toNodeId:toNodeId,toPortId:toPortId})}else onLinkCancel({config:config,linkId:linkId,startEvent:startEvent,fromNodeId:fromNodeId,fromPortId:fromPortId});window.removeEventListener(\"mouseup\",mouseUpHandler,!1),window.removeEventListener(\"mousemove\",mouseMoveHandler,!1)};window.addEventListener(\"mouseup\",mouseUpHandler,!1),window.addEventListener(\"mousemove\",mouseMoveHandler,!1),onLinkStart({config:config,linkId:linkId,startEvent:startEvent,fromNodeId:fromNodeId,fromPortId:fromPortId}),startEvent.preventDefault(),startEvent.stopPropagation()},_this}return __extends(PortWrapper,_super),PortWrapper.prototype.componentDidMount=function(){this.updatePortPosition()},PortWrapper.prototype.componentDidUpdate=function(prevProps){this.portsOfType(this.props)===this.portsOfType(prevProps)&&lodash_1.isEqual(this.props.node.size,prevProps.node.size)||this.updatePortPosition()},PortWrapper.prototype.render=function(){var _a=this.props,selected=_a.selected,selectedLink=_a.selectedLink,hovered=_a.hovered,hoveredLink=_a.hoveredLink,style=_a.style,port=_a.port,node=_a.node,_b=_a.Component,Component=void 0===_b?Port_default_1.PortDefault:_b,config=_a.config;return React.createElement(\"div\",{\"data-port-id\":port.id,\"data-node-id\":node.id,onMouseDown:this.onMouseDown,ref:this.nodeRef,style:style},React.createElement(Component,{config:config,port:port,isSelected:!!selected&&\"port\"===selected.type&&selected.id===port.id,isHovered:!!hovered&&\"port\"===hovered.type&&hovered.id===port.id,isLinkSelected:!!selectedLink&&(selectedLink.from.portId===port.id&&selectedLink.from.nodeId===node.id||selectedLink.to.portId===port.id&&selectedLink.to.nodeId===node.id),isLinkHovered:!!hoveredLink&&(hoveredLink.from.portId===port.id&&hoveredLink.from.nodeId===node.id||hoveredLink.to.portId===port.id&&hoveredLink.to.nodeId===node.id)}))},PortWrapper.prototype.updatePortPosition=function(){var el=ReactDOM.findDOMNode(this.nodeRef.current);if(el){var nodesEl=el.parentElement?el.parentElement:{offsetLeft:0,offsetTop:0};this.props.onPortPositionChange({config:this.props.config,node:this.props.node,port:this.props.port,el:el,nodesEl:nodesEl})}},PortWrapper.prototype.portsOfType=function(props){var type=props.port.type,ports=props.node.ports;return Object.values(ports).reduce((function(count,port){return port.type===type?count+1:count}),0)},PortWrapper.contextType=CanvasContext_1.default,PortWrapper}(React.Component);exports.PortWrapper=PortWrapper},954:function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(__webpack_require__(955))},955:function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var React=__webpack_require__(0),__1=__webpack_require__(9);exports.PortsDefault=function(_a){var children=_a.children,config=_a.config;return React.createElement(\"div\",null,React.createElement(__1.PortsGroupDefault,{config:config,side:\"top\"},children.filter((function(child){return[\"input\",\"top\"].includes(child.props.port.type)}))),React.createElement(__1.PortsGroupDefault,{config:config,side:\"bottom\"},children.filter((function(child){return[\"output\",\"bottom\"].includes(child.props.port.type)}))),React.createElement(__1.PortsGroupDefault,{config:config,side:\"right\"},children.filter((function(child){return[\"right\"].includes(child.props.port.type)}))),React.createElement(__1.PortsGroupDefault,{config:config,side:\"left\"},children.filter((function(child){return[\"left\"].includes(child.props.port.type)}))))}},956:function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(__webpack_require__(957))},957:function(module,exports,__webpack_require__){\"use strict\";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,\"raw\",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,\"__esModule\",{value:!0});var templateObject_1,templateObject_2,templateObject_3,templateObject_4,templateObject_5,styled_components_1=__webpack_require__(15);exports.PortsGroupDefault=styled_components_1.default.div(templateObject_5||(templateObject_5=__makeTemplateObject([\"\\n  position: absolute;\\n  display: flex;\\n  justify-content: center;\\n\\n  \",\"\\n\"],[\"\\n  position: absolute;\\n  display: flex;\\n  justify-content: center;\\n\\n  \",\"\\n\"])),(function(props){return\"top\"===props.side?styled_components_1.css(templateObject_1||(templateObject_1=__makeTemplateObject([\"\\n        width: 100%;\\n        left: 0;\\n        top: -12px;\\n        flex-direction: row;\\n        > div {\\n          margin: 0 3px;\\n        }\\n      \"],[\"\\n        width: 100%;\\n        left: 0;\\n        top: -12px;\\n        flex-direction: row;\\n        > div {\\n          margin: 0 3px;\\n        }\\n      \"]))):\"bottom\"===props.side?styled_components_1.css(templateObject_2||(templateObject_2=__makeTemplateObject([\"\\n        width: 100%;\\n        left: 0;\\n        bottom: -12px;\\n        flex-direction: row;\\n        > div {\\n          margin: 0 3px;\\n        }\\n      \"],[\"\\n        width: 100%;\\n        left: 0;\\n        bottom: -12px;\\n        flex-direction: row;\\n        > div {\\n          margin: 0 3px;\\n        }\\n      \"]))):\"left\"===props.side?styled_components_1.css(templateObject_3||(templateObject_3=__makeTemplateObject([\"\\n        height: 100%;\\n        top: 0;\\n        left: -12px;\\n        flex-direction: column;\\n        > div {\\n          margin: 3px 0;\\n        }\\n      \"],[\"\\n        height: 100%;\\n        top: 0;\\n        left: -12px;\\n        flex-direction: column;\\n        > div {\\n          margin: 3px 0;\\n        }\\n      \"]))):styled_components_1.css(templateObject_4||(templateObject_4=__makeTemplateObject([\"\\n        height: 100%;\\n        top: 0;\\n        right: -12px;\\n        flex-direction: column;\\n        > div {\\n          margin: 3px 0;\\n        }\\n      \"],[\"\\n        height: 100%;\\n        top: 0;\\n        right: -12px;\\n        flex-direction: column;\\n        > div {\\n          margin: 3px 0;\\n        }\\n      \"])))}))},958:function(module,exports,__webpack_require__){\"use strict\";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,\"__esModule\",{value:!0}),__export(__webpack_require__(346)),__export(__webpack_require__(959)),__export(__webpack_require__(347))},959:function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var React=__webpack_require__(0),utils_1=__webpack_require__(195),Link_default_1=__webpack_require__(346),utils_2=__webpack_require__(347);exports.LinkWrapper=React.memo((function(_a){var config=_a.config,_b=_a.Component,Component=void 0===_b?Link_default_1.LinkDefault:_b,link=_a.link,onLinkMouseEnter=_a.onLinkMouseEnter,onLinkMouseLeave=_a.onLinkMouseLeave,onLinkClick=_a.onLinkClick,isSelected=_a.isSelected,isHovered=_a.isHovered,fromNode=_a.fromNode,toNode=_a.toNode,matrix=_a.matrix,startPos=utils_2.getLinkPosition(fromNode,link.from.portId),fromPort=fromNode.ports[link.from.portId],endPos=toNode&&link.to.portId?utils_2.getLinkPosition(toNode,link.to.portId):link.to.position,toPort=toNode&&link.to.portId?toNode.ports[link.to.portId]:void 0;return endPos?React.createElement(Component,{config:config,link:link,matrix:matrix,startPos:startPos,endPos:endPos,fromPort:fromPort,toPort:toPort,onLinkMouseEnter:config.readonly?utils_1.noop:onLinkMouseEnter,onLinkMouseLeave:config.readonly?utils_1.noop:onLinkMouseLeave,onLinkClick:config.readonly?utils_1.noop:onLinkClick,isSelected:isSelected,isHovered:isHovered}):null}))},960:function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getLinkPosition=function(node,portId){var port=node.ports[portId];return{x:node.position.x+(port.position?port.position.x:0),y:node.position.y+(port.position?port.position.y:0)}}},961:function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var PF=__webpack_require__(962),grid_1=__webpack_require__(348);exports.generateCurvePath=function(startPos,endPos){var start,end,width=Math.abs(startPos.x-endPos.x),height=Math.abs(startPos.y-endPos.y),leftToRight=startPos.x<endPos.x,topToBottom=startPos.y<endPos.y,isHorizontal=width>height;isHorizontal?(start=leftToRight?startPos:endPos,end=leftToRight?endPos:startPos):(start=topToBottom?startPos:endPos,end=topToBottom?endPos:startPos);var curve=isHorizontal?width/3:height/3,curveX=isHorizontal?curve:0,curveY=isHorizontal?0:curve;return\"M\"+start.x+\",\"+start.y+\" C \"+(start.x+curveX)+\",\"+(start.y+curveY)+\" \"+(end.x-curveX)+\",\"+(end.y-curveY)+\" \"+end.x+\",\"+end.y};var finder=PF.JumpPointFinder({heuristic:PF.Heuristic.manhattan,diagonalMovement:PF.DiagonalMovement.Never});exports.generateRightAnglePath=function(startPos,endPos){var start,end,width=Math.abs(startPos.x-endPos.x),height=Math.abs(startPos.y-endPos.y),leftToRight=startPos.x<endPos.x,topToBottom=startPos.y<endPos.y,isHorizontal=width>height;isHorizontal?(start=leftToRight?startPos:endPos,end=leftToRight?endPos:startPos):(start=topToBottom?startPos:endPos,end=topToBottom?endPos:startPos);var vertex=isHorizontal?start.x+\",\"+end.y:end.x+\",\"+start.y;return\"M\"+start.x+\",\"+start.y+\" L \"+vertex+\" \"+end.x+\",\"+end.y};exports.generateSmartPath=function(matrix,startPos,endPos,fromPort,toPort){var grid=new PF.Grid(matrix),startPosScaled={x:Math.ceil(startPos.x/5),y:Math.ceil(startPos.y/5)},endPosScaled={x:Math.ceil(endPos.x/5),y:Math.ceil(endPos.y/5)};try{!function(start,end,grid){[start,end].forEach((function(point){if([\"input\",\"top\"].includes(point.port.type))for(var i=point.pos.y;i>=Math.max(point.pos.y-grid_1.MATRIX_PADDING,0);i--)grid.setWalkableAt(point.pos.x,i,!0);else if([\"output\",\"bottom\"].includes(point.port.type))for(i=point.pos.y;i<=Math.min(point.pos.y+grid_1.MATRIX_PADDING,grid.height);i++)grid.setWalkableAt(point.pos.x,i,!0);else if([\"right\"].includes(point.port.type))for(i=point.pos.x;i<=Math.max(point.pos.x+grid_1.MATRIX_PADDING,grid.width);i++)grid.setWalkableAt(i,point.pos.y,!0);else if([\"left\"].includes(point.port.type))for(i=point.pos.x;i>=Math.max(point.pos.x-grid_1.MATRIX_PADDING,0);i--)grid.setWalkableAt(i,point.pos.y,!0)}))}({pos:startPosScaled,port:fromPort},{pos:endPosScaled,port:toPort},grid);var path=PF.Util.compressPath(finder.findPath(startPosScaled.x,startPosScaled.y,endPosScaled.x,endPosScaled.y,grid));if(!path.length)return exports.generateRightAnglePath(startPos,endPos);var first=path[0],rest=path.slice(1),d_1=\"M\"+5*first[0]+\" \"+5*first[1];return rest.forEach((function(_a){var x=_a[0],y=_a[1];d_1+=\" L\"+5*x+\" \"+5*y})),d_1}catch(e){return exports.generateRightAnglePath(startPos,endPos)}}},978:function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(__webpack_require__(979))},979:function(module,exports,__webpack_require__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,\"__esModule\",{value:!0});var React=__webpack_require__(0),__1=__webpack_require__(9),grid_1=__webpack_require__(348);exports.FlowChart=function(props){var _a=React.useState({width:0,height:0}),canvasSize=_a[0],setCanvasSize=_a[1],chart=props.chart,_b=props.callbacks,onDragNode=_b.onDragNode,onDragNodeStop=_b.onDragNodeStop,onDragCanvas=_b.onDragCanvas,onDragCanvasStop=_b.onDragCanvasStop,onCanvasDrop=_b.onCanvasDrop,onLinkStart=_b.onLinkStart,onLinkMove=_b.onLinkMove,onLinkComplete=_b.onLinkComplete,onLinkCancel=_b.onLinkCancel,onPortPositionChange=_b.onPortPositionChange,onLinkMouseEnter=_b.onLinkMouseEnter,onLinkMouseLeave=_b.onLinkMouseLeave,onLinkClick=_b.onLinkClick,onCanvasClick=_b.onCanvasClick,onDeleteKey=_b.onDeleteKey,onNodeClick=_b.onNodeClick,onNodeMouseEnter=_b.onNodeMouseEnter,onNodeMouseLeave=_b.onNodeMouseLeave,onNodeSizeChange=_b.onNodeSizeChange,_c=props.Components,_d=void 0===_c?{}:_c,_e=_d.CanvasOuter,CanvasOuter=void 0===_e?__1.CanvasOuterDefault:_e,_f=_d.CanvasInner,CanvasInner=void 0===_f?__1.CanvasInnerDefault:_f,_g=_d.NodeInner,NodeInner=void 0===_g?__1.NodeInnerDefault:_g,_h=_d.Ports,Ports=void 0===_h?__1.PortsDefault:_h,_j=_d.Port,Port=void 0===_j?__1.PortDefault:_j,_k=_d.Node,Node=void 0===_k?__1.NodeDefault:_k,_l=_d.Link,Link=void 0===_l?__1.LinkDefault:_l,_m=props.config,config=void 0===_m?{}:_m,links=chart.links,nodes=chart.nodes,selected=chart.selected,hovered=chart.hovered,offset=chart.offset,canvasCallbacks={onDragCanvas:onDragCanvas,onDragCanvasStop:onDragCanvasStop,onCanvasClick:onCanvasClick,onDeleteKey:onDeleteKey,onCanvasDrop:onCanvasDrop},linkCallbacks={onLinkMouseEnter:onLinkMouseEnter,onLinkMouseLeave:onLinkMouseLeave,onLinkClick:onLinkClick},nodeCallbacks={onDragNode:onDragNode,onNodeClick:onNodeClick,onDragNodeStop:onDragNodeStop,onNodeMouseEnter:onNodeMouseEnter,onNodeMouseLeave:onNodeMouseLeave,onNodeSizeChange:onNodeSizeChange},portCallbacks={onPortPositionChange:onPortPositionChange,onLinkStart:onLinkStart,onLinkMove:onLinkMove,onLinkComplete:onLinkComplete,onLinkCancel:onLinkCancel},nodesInView=Object.keys(nodes).filter((function(nodeId){var _a=nodes[nodeId].position,x=_a.x,y=_a.y,size=nodes[nodeId].size||{width:500,height:500};return x+offset.x+size.width>0&&x+offset.x<canvasSize.width&&y+offset.y+size.height>0&&y+offset.y<canvasSize.height})),matrix=config.smartRouting?grid_1.getMatrix(chart.offset,Object.values(nodesInView.map((function(nodeId){return nodes[nodeId]})))):void 0,linksInView=Object.keys(links).filter((function(linkId){var from=links[linkId].from,to=links[linkId].to;return!to.nodeId||-1!==nodesInView.indexOf(from.nodeId)||-1!==nodesInView.indexOf(to.nodeId)}));return React.createElement(__1.CanvasWrapper,__assign({config:config,position:chart.offset,ComponentInner:CanvasInner,ComponentOuter:CanvasOuter,onSizeChange:function(width,height){return setCanvasSize({width:width,height:height})}},canvasCallbacks),linksInView.map((function(linkId){var isSelected=!config.readonly&&\"link\"===selected.type&&selected.id===linkId,isHovered=!config.readonly&&\"link\"===hovered.type&&hovered.id===linkId,fromNodeId=links[linkId].from.nodeId,toNodeId=links[linkId].to.nodeId;return React.createElement(__1.LinkWrapper,__assign({config:config,key:linkId,link:links[linkId],Component:Link,isSelected:isSelected,isHovered:isHovered,fromNode:nodes[fromNodeId],toNode:toNodeId?nodes[toNodeId]:void 0,matrix:matrix},linkCallbacks))})),nodesInView.map((function(nodeId){var isSelected=\"node\"===selected.type&&selected.id===nodeId,selectedLink=getSelectedLinkForNode(selected,nodeId,links),hoveredLink=getSelectedLinkForNode(hovered,nodeId,links);return React.createElement(__1.NodeWrapper,__assign({config:config,key:nodeId,Component:Node,node:nodes[nodeId],offset:chart.offset,isSelected:isSelected,selected:selectedLink?selected:void 0,hovered:hoveredLink?hovered:void 0,selectedLink:selectedLink,hoveredLink:hoveredLink,NodeInner:NodeInner,Ports:Ports,Port:Port},nodeCallbacks,portCallbacks))})))};var getSelectedLinkForNode=function(selected,nodeId,links){var link=\"link\"===selected.type&&selected.id?links[selected.id]:void 0;if(link&&(link.from.nodeId===nodeId||link.to.nodeId===nodeId))return link}},980:function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var _actions=__webpack_require__(80);exports.actions=_actions,function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(__webpack_require__(982))},981:function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.rotate=function(center,current,angle){var radians=Math.PI/180*angle,cos=Math.cos(radians),sin=Math.sin(radians);return{x:cos*(current.x-center.x)+sin*(current.y-center.y)+center.x,y:cos*(current.y-center.y)-sin*(current.x-center.x)+center.y}}},982:function(module,exports,__webpack_require__){\"use strict\";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,\"__esModule\",{value:!0});var React=__webpack_require__(0),__1=__webpack_require__(9),actions=__webpack_require__(80),mapValues_1=__webpack_require__(983),FlowChartWithState=function(_super){function FlowChartWithState(props){var _this=_super.call(this,props)||this;return _this.stateActions=mapValues_1.default(actions,(function(func){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return _this.setState(func.apply(void 0,args))}})),_this.state=props.initialValue,_this}return __extends(FlowChartWithState,_super),FlowChartWithState.prototype.render=function(){var _a=this.props,Components=_a.Components,config=_a.config;return React.createElement(__1.FlowChart,{chart:this.state,callbacks:this.stateActions,Components:Components,config:config})},FlowChartWithState}(React.Component);exports.FlowChartWithState=FlowChartWithState},983:function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=function mapValues(o,func){var res={};for(var key in o)o.hasOwnProperty(key)&&(res[key]=func(o[key]));return res}},984:function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.REACT_FLOW_CHART=\"react-flow-chart\"},985:function(module,exports,__webpack_require__){\"use strict\";(function(module){Object.defineProperty(exports,\"__esModule\",{value:!0});var react_1=__webpack_require__(199),React=__webpack_require__(0),ConfigSnapToGrid_1=__webpack_require__(339),ConfigValidateLink_1=__webpack_require__(353),CustomCanvasOuter_1=__webpack_require__(354),CustomLink_1=__webpack_require__(355),CustomNode_1=__webpack_require__(356),CustomNodeInner_1=__webpack_require__(357),CustomPort_1=__webpack_require__(358),DragAndDropSidebar_1=__webpack_require__(359),ExternalReactState_1=__webpack_require__(360),InternalReactState_1=__webpack_require__(361),ReadonlyMode_1=__webpack_require__(362),SelectedSidebar_1=__webpack_require__(363),SmartRouting_1=__webpack_require__(364),StressTest_1=__webpack_require__(365);react_1.storiesOf(\"State\",module).add(\"Internal React State\",InternalReactState_1.InternalReactState).add(\"External React State\",(function(){return React.createElement(ExternalReactState_1.ExternalReactState,null)})),react_1.storiesOf(\"Custom Components\",module).add(\"Node Inner\",(function(){return React.createElement(CustomNodeInner_1.CustomNodeInnerDemo,null)})).add(\"Node\",CustomNode_1.CustomNodeDemo).add(\"Port\",CustomPort_1.CustomPortDemo).add(\"Canvas Outer\",CustomCanvasOuter_1.CustomCanvasOuterDemo).add(\"Canvas Link\",(function(){return React.createElement(CustomLink_1.CustomLinkDemo,null)})),react_1.storiesOf(\"Stress Testing\",module).add(\"default\",StressTest_1.StressTestDemo),react_1.storiesOf(\"Sidebar\",module).add(\"Drag and Drop\",DragAndDropSidebar_1.DragAndDropSidebar).add(\"Selected Sidebar\",(function(){return React.createElement(SelectedSidebar_1.SelectedSidebar,null)})),react_1.storiesOf(\"Other Config\",module).add(\"Snap To Grid\",ConfigSnapToGrid_1.ConfigSnapToGridDemo).add(\"Link validation function\",ConfigValidateLink_1.ConfigValidateLinkDemo).add(\"Read only mode\",ReadonlyMode_1.ReadonlyMode).add(\"Smart link routing\",SmartRouting_1.SmartRouting)}).call(this,__webpack_require__(53)(module))},986:function(module,exports,__webpack_require__){\"use strict\";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,\"__esModule\",{value:!0});var lodash_1=__webpack_require__(66),React=__webpack_require__(0);exports.throttleRender=function(wait,options){return function(ComponentToThrottle){return function(_super){function Throttle(props,context){var _this=_super.call(this,props,context)||this;return _this.state={},_this.throttledSetState=lodash_1.throttle((function(nextState){return _this.setState(nextState)}),wait,options),_this}return __extends(Throttle,_super),Throttle.prototype.shouldComponentUpdate=function(nextProps,nextState){return this.state!==nextState},Throttle.prototype.componentWillMount=function(){this.throttledSetState({props:this.props})},Throttle.prototype.componentWillReceiveProps=function(nextProps){this.throttledSetState({props:nextProps})},Throttle.prototype.componentWillUnmount=function(){this.throttledSetState.cancel()},Throttle.prototype.render=function(){return React.createElement(ComponentToThrottle,__assign({},this.state.props))},Throttle}(React.Component)}}}},[[372,1,2]]]);","extractedComments":[]}